function createCopyButton(e){const t=document.createElement("button");t.className="copy-code-button",t.type="button",t.innerText="Copy",t.addEventListener("click",()=>copyCodeToClipboard(t,e)),e.insertBefore(t,e.firstChild);const n=document.createElement("div");n.className="highlight-wrapper",e.parentNode.insertBefore(n,e),n.appendChild(e)}document.querySelectorAll(".highlight").forEach(e=>createCopyButton(e));async function copyCodeToClipboard(e,t){const n=t.querySelector(":last-child > .highlight .code").innerText;try{var s=await navigator.permissions.query({name:"clipboard-write"});s.state=="granted"||s.state=="prompt"?await navigator.clipboard.writeText(n):copyCodeBlockExecCommand(n,t)}catch{copyCodeBlockExecCommand(n,t)}finally{e.blur(),e.innerText="Copied!",setTimeout(function(){e.innerText="Copy"},2e3)}}function copyCodeBlockExecCommand(e,t){const n=document.createElement("textArea");n.contentEditable="true",n.readOnly="false",n.className="copyable-text-area",n.value=e,t.insertBefore(n,t.firstChild);const s=document.createRange();s.selectNodeContents(n);const o=window.getSelection();o.removeAllRanges(),o.addRange(s),n.setSelectionRange(0,999999),document.execCommand("copy"),t.removeChild(n)}